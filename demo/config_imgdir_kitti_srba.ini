[RECTIFY]
nOctaves					= 1

[DETECT]
// target_feats_per_pixel	= 5
initial_FAST_threshold 		= 20		// [Int] FAST threshold (between 10-30 is a good value)
// KLT_win					= 4
// minimum_KLT				= 10
detect_method				= 0			// [Int] [0] ORB features -- [1] FAST one-scale + ORB descriptors
orb_adaptive_fast_th		= true		// [Boolean] Use adaptive FAST detector threshold for ORB detector (only for detect_method = 0)

// -------------- visual odometry
non_maximal_suppression 	= true		// [Boolean] Perform non-maximal-suppression
non_max_supp_method 		= 1 		// [Int] [0] Standard method -- [1] Adaptive method
// method 					= 1			// [Int] [0] ORB features -- [1] FAST one-scale + ORB descriptors -- [2] FASTER + FREAK or FASTER + SAD
orb_nfeats					= 1000		// [Int] Approx. number of features to be detected
orb_nlevels 				= 1
min_distance				= 5			// [Int] Minimum distance between features in pixels(for ORB by now and for 'non-maximal-suppression')

[MATCH]
// -------------- not used
// maximum_SAD				= 400		// The maximum SAD value to consider a pairing as a potential match (Default: ~400)
// max_SAD_ratio			= 0.5		// The maximum ratio between the two smallest SAD when searching for pairings (Default: 0.5)

// -------------- visual odometry
enable_robust_1to1_match 	= false		// [Boolean] Only match if a pair of L/R features have the best match score to each other (default: false)
rectified_images			= true		// [Boolean] Stereo images are rectified (corresponding pairs are in the same row)
max_y_diff 					= 2			// [Int] Maximum distance between 'y' coords when images are rectified
max_orb_distance 			= 60		// [Int] Maximum Hamming distance between ORB descriptors (for stereo) [def: 60]

// -------------- rba
max_orb_distance_da 		= 60		// SPECIFIC FOR RBA: [Int] Maximum Hamming distance between ORB descriptors (for data association)
max_y_diff_epipolar 		= 2.0		// SPECIFIC FOR RBA: [Double] Maximum distance between the keypoints and their epipolar lines
ransac_fit_prob 			= 0.95		// SPECIFIC FOR RBA: [Double] RANSAC fit probability (for stage 2 of data association)
max_z						= 60		// [Double] Max and min Z position of the 3D points to be considered, i.e. limits for the disparity
min_z 						= 0.15

[LEAST_SQUARES]
kernel_param 				= 2 //10		// [Double] Pseudo-Huber kernel parameter
max_error_per_obs_px 		= 0.001		// [Double] Maximum allowed error in pixels for each observation
initial_max_iters 			= 40		// [Int] Maximum number of initial iterations for the Gauss-Newton method

use_robust_kernel 			= true		// [Boolean] Use or not Pseudo-Huber robust kernel
residual_threshold 			= 15		// [Int]
max_incr_cost 				= 3			// [Int]

bad_tracking_th				= 5

stage2_method 				= 3			// SPECIFIC FOR RBA: [0] none -- [1] fundamental_matrix -- [2] change in pose -- [3] both (TO DO)
query_score_th				= 0			// SPECIFIC FOR RBA: [0] adaptive -- [>0] fix

use_previous_initial_pose	= true

[GUI]
show_gui 					= false
draw_all_raw_feats 			= true
draw_lr_pairings 			= true
draw_tracking 				= false

[SRBA]
srba_edge_policy 			= 1
srba_verbosity 				= 0 // 2
srba_submap_size			= 10 // 2
srba_max_tree_depth			= 3
srba_max_optimize_depth		= 5 // 25
srba_use_robust_kernel		= true
srba_use_robust_kernel_stage1 = false
srba_kernel_param			= 1.5

[VIS]
zoom					= 2

// -------------- general
[GENERAL]
capture_source 			= 1	// [0] Rawlog -- [1] Image Directory
toStep 					= 1100

// source : image directory ------------
cap_dir_url 			= M:\kitti\07\07 // \imgs
cap_img_left_format		= image_0\%06d.png
cap_img_right_format	= image_1\%06d.png
cap_img_start_index		= 0
cap_img_end_index		= 1100
// -------------------------------------

// app general options -----------------
outDir 		 			= out_kitti_07_v3
debug 					= false // true
show3D					= true
pause_after_show_op 	= false
pause_at_each_iteration = false
verbose_level 			= 0
max_num_kfs 			= 500 // 635
// -------------------------------------

// least squares options ---------------
residual_th 			= 50
updated_matches_th		= 60
up_matches_th_plus 		= 25
max_translation			= 2.0			// [m]
max_rotation 			= 25			// [deg]
// -------------------------------------

// loop closure ------------------------
lc_distance				= 10
lc_strict 				= false
lc_strictness_th		= 0.7
// -------------------------------------

// bag of words ------------------------
//voc_filename 			= C:\work\apps\rba-stereoSLAM-build-x64\Release\voc_stereo_real_1level_outdoors.yml.gz
voc_filename 			= G:\work\code\other\DBoW2\build-msvc2012\Release\voc_stereo_real_1level.yml.gz
// -------------------------------------

// visual odometry general options -----
vo_verbosity 			= 0 // 2
vo_use_matches_ids 		= true
vo_save_files 			= false	// true
vo_debug				= false
vo_pause_it 			= false
vo_id_tracking_th 		= 40					// 0 to disable it
vo_out_dir 				= out_kitti_07_vo_v3

// app status load and save -----------
load_state_from_file	= false					// fromStep will be ignored, it will start at the iteration stored into the state file
save_state_fo_file  	= false					// preference over load state
save_at_iteration		= 2056
state_file				= status_2056.bin
// -------------------------------------

camera_pose_on_robot 	= [0,0,0,0,0,0]

// -------------- camera calibration
[CAMERA_LEFT]
resolution=[1226 370]
cx=601.8873000000
cy=183.1104000000
fx=707.0912000000
fy=707.0912000000
dist=[0.000000e+000 0.000000e+000 0.000000e+000 0.000000e+000 0.000000e+000]

[CAMERA_RIGHT]
resolution=[1226 370]
cx=601.8873000000
cy=183.1104000000
fx=707.0912000000
fy=707.0912000000
dist=[0.000000e+000 0.000000e+000 0.000000e+000 0.000000e+000 0.000000e+000]

[CAMERA_LEFT2RIGHT_POSE]
pose_quaternion=[0.54000000 0.000000 0.000000 1.000000 0.000000 0.000000 0.000000]

[DEBUG]
outliers_IDs = []